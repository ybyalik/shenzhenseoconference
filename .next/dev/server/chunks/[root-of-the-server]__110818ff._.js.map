{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/api/contact/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\nimport { z } from 'zod';\n\nconst contactFormSchema = z.object({\n  firstName: z.string().min(1, \"First name is required\"),\n  lastName: z.string().min(1, \"Last name is required\"),\n  email: z.string().email(\"Please enter a valid email address\"),\n  requestInvitationLetter: z.boolean(),\n  nationality: z.string().optional(),\n  passportNo: z.string().optional(),\n  passportIssuingOffice: z.string().optional(),\n  dateOfIssue: z.string().optional(),\n  passportExpiration: z.string().optional(),\n  jobTitle: z.string().optional(),\n  durationOfStay: z.string().optional(),\n  additionalMessage: z.string().optional(),\n}).refine((data) => {\n  if (data.requestInvitationLetter) {\n    return (\n      data.nationality &&\n      data.passportNo &&\n      data.passportIssuingOffice &&\n      data.dateOfIssue &&\n      data.passportExpiration &&\n      data.jobTitle &&\n      data.durationOfStay\n    );\n  }\n  return true;\n}, {\n  message: \"All fields are required when requesting a business invitation letter\",\n  path: [\"requestInvitationLetter\"],\n});\n\nexport async function POST(request: NextRequest) {\n  try {\n    const body = await request.json();\n    const validatedData = contactFormSchema.parse(body);\n\n    console.log('Contact form received:', validatedData);\n\n    return NextResponse.json({\n      success: true,\n      message: 'Contact form received successfully',\n      data: validatedData,\n    }, { status: 201 });\n  } catch (error) {\n    if (error instanceof z.ZodError) {\n      return NextResponse.json({\n        success: false,\n        message: 'Validation error',\n        errors: error.errors,\n      }, { status: 400 });\n    }\n\n    console.error('Contact form error:', error);\n    return NextResponse.json({\n      success: false,\n      message: 'Internal server error',\n    }, { status: 500 });\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,MAAM,oBAAoB,2IAAC,CAAC,MAAM,CAAC;IACjC,WAAW,2IAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC7B,UAAU,2IAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;IAC5B,OAAO,2IAAC,CAAC,MAAM,GAAG,KAAK,CAAC;IACxB,yBAAyB,2IAAC,CAAC,OAAO;IAClC,aAAa,2IAAC,CAAC,MAAM,GAAG,QAAQ;IAChC,YAAY,2IAAC,CAAC,MAAM,GAAG,QAAQ;IAC/B,uBAAuB,2IAAC,CAAC,MAAM,GAAG,QAAQ;IAC1C,aAAa,2IAAC,CAAC,MAAM,GAAG,QAAQ;IAChC,oBAAoB,2IAAC,CAAC,MAAM,GAAG,QAAQ;IACvC,UAAU,2IAAC,CAAC,MAAM,GAAG,QAAQ;IAC7B,gBAAgB,2IAAC,CAAC,MAAM,GAAG,QAAQ;IACnC,mBAAmB,2IAAC,CAAC,MAAM,GAAG,QAAQ;AACxC,GAAG,MAAM,CAAC,CAAC;IACT,IAAI,KAAK,uBAAuB,EAAE;QAChC,OACE,KAAK,WAAW,IAChB,KAAK,UAAU,IACf,KAAK,qBAAqB,IAC1B,KAAK,WAAW,IAChB,KAAK,kBAAkB,IACvB,KAAK,QAAQ,IACb,KAAK,cAAc;IAEvB;IACA,OAAO;AACT,GAAG;IACD,SAAS;IACT,MAAM;QAAC;KAA0B;AACnC;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,gBAAgB,kBAAkB,KAAK,CAAC;QAE9C,QAAQ,GAAG,CAAC,0BAA0B;QAEtC,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,SAAS;YACT,MAAM;QACR,GAAG;YAAE,QAAQ;QAAI;IACnB,EAAE,OAAO,OAAO;QACd,IAAI,iBAAiB,2IAAC,CAAC,QAAQ,EAAE;YAC/B,OAAO,gJAAY,CAAC,IAAI,CAAC;gBACvB,SAAS;gBACT,SAAS;gBACT,QAAQ,MAAM,MAAM;YACtB,GAAG;gBAAE,QAAQ;YAAI;QACnB;QAEA,QAAQ,KAAK,CAAC,uBAAuB;QACrC,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,SAAS;QACX,GAAG;YAAE,QAAQ;QAAI;IACnB;AACF"}}]
}